location:
  city: "Upplands VÃ¤sby"
  latitude: 59.5196
  longitude: 17.9285
  timezone: "Europe/Stockholm"

grid:
  provider: "Eon"
  region: "SE3"

cars:
  mercedes_eqv:
    vin: "W1K..." # VIN for your Mercedes
    capacity_kwh: 90  # Update with exact usable capacity
    max_charge_kw: 11 # Max charging power in kW
    target_soc: 80
    # HomeAssistant Integration
    ha_url: "http://homeassistant.local:8123"  # Or your HA IP address
    ha_token: "YOUR_HA_LONG_LIVED_ACCESS_TOKEN"  # Create in HA Profile
    ha_merc_soc_entity_id: "sensor.mercedes_eqv_battery"  # Entity ID from HA
    ha_merc_plugged_entity_id: "binary_sensor.mercedes_eqv_plug"  # Optional
    ha_merc_range_entity_id: "sensor.mercedes_eqv_range"  # Optional

  nissan_leaf:
    vin: "" # Optional, usually auto-discovered
    capacity_kwh: 40 # Update depending on model year (40 or 62)
    max_charge_kw: 6.6 # Max charging power in kW
    target_soc: 80
    # HomeAssistant Integration
    ha_url: "http://100.100.118.62:8123"  # Updated based on diagnosis
    ha_token: "YOUR_HA_LONG_LIVED_ACCESS_TOKEN"  # PLEASE REPLACE WITH YOUR REAL TOKEN
    ha_nissan_soc_entity_id: "sensor.leaf_battery_level"
    ha_nissan_plugged_entity_id: "binary_sensor.leaf_plugged_in"
    ha_nissan_range_entity_id: "sensor.leaf_range_ac_on"
    ha_nissan_last_updated_id: "sensor.leaf_last_updated"
    ha_odometer_id: "sensor.leaf_odometer"
    ha_update_id: "button.leaf_update_data"
    ha_nissan_charging_entity_id: "binary_sensor.leaf_charging"

charger:
  zaptec:
    username: "philip.hoglund@gmail.com"
    password: "Tv88sSx13"
    charger_id: "dfa7bfff-36d5-4ac6-9a82-099089f38ea9"  # Charger ID from Zaptec Portal
    
optimization:
  price_buffer_threshold: 0.10
  planning_horizon_days: 5